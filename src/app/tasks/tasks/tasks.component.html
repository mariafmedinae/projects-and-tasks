@if (loadingTasks) {
<!-- Loader to api tasks -->
<app-loader></app-loader>
} 

@if (errorTasks) {
<!-- Api load error message -->
<app-alert-message
    color="alert-danger"
    message="Se presentÃ³ un error al cargar las tareas. Vuelva a intentarlo"
></app-alert-message>
} 
<!-- View content after api load -->
@if (!errorTasks && !loadingTasks) { 
    @if (!isCreateTask) { 
    <div class="d-flex mb-4">
        <!-- Back to projects list button -->
        <app-button label="Regresar" (click)="goBackToProjects()"></app-button>
    </div>   
    <div
        class="d-flex flex-column flex-sm-row justify-content-center align-items-center justify-content-sm-between mb-4"
    >
        <div class="mb-3">
            <h1 class="mb-0">Lista de tareas</h1>
            <small><strong>Proyecto: {{ project.name }}</strong></small>
        </div>

        <!-- Add task button -->
        <app-button label="Agregar tarea" (onClick)="addTask()"></app-button>
    </div>

    @if (deleteAlert) {
        <!-- Api load error message -->
        <app-alert-message
        [color]="alertClass"
        [message]="alertText"
        ></app-alert-message>
    } 

    @if (tasks.length > 0) {
    <app-table
        [names]="tableNames"
        [data]="tasks"
        (action)="tableActions($event)"
        [updateTable]="updateTable"
    ></app-table>
    } @else {
        <p class="text-center">No hay tareas para mostrar</p>
    }
    
    } 
    @if (isCreateTask) {
    <app-new-task
        (closeForm)="closeForm()"
        (newTask)="saveTask($event)"
    ></app-new-task>
    } 
}
    